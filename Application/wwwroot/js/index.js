import*as i from"./_snowpack/pkg/html-to-image.js";const l=/^((?!chrome|android).)*safari/i.test(navigator?.userAgent),d=navigator.userAgent.indexOf("Firefox")<0,s=o=>new Promise((r,n)=>{try{const e=window.devicePixelRatio,t=document.getElementById(o);i.toBlob(t,{height:t.offsetHeight*e,width:t.offsetWidth*e,style:{transform:"scale("+e+")",transformOrigin:"top left",width:t.offsetWidth+"px",height:t.offsetHeight+"px"}}).then(a=>{r(a)})}catch(e){n(e)}}),g=o=>{navigator.clipboard.write([new ClipboardItem({"image/png":new Promise(async(r,n)=>{try{const e=await s(o);r(new Blob([e],{type:"image/png"}))}catch(e){n(e)}})})]).then(()=>{}).catch(r=>{console.error("Error:",r)})},m=o=>{var r=d?"clipboard-write":"clipboardWrite";navigator?.permissions?.query({name:r}).then(async n=>{if(n.state==="granted"){const e="image/png",t=await s(o);let a=[new ClipboardItem({[e]:t})];navigator.clipboard.write(a).then(()=>{}).catch(c=>{console.error("Error:",c)})}})};export function downloadCard(o,r){var n=document.getElementById(o);i.toPng(n).then(function(e){var t=document.createElement("a");t.download=r,t.href=e,t.click()}).catch(function(e){console.error("oops, something went wrong!",e)})}export function copyCard(o){l?g(o):m(o)}
