import*as i from"./_snowpack/pkg/html-to-image.js";const c=/^((?!chrome|android).)*safari/i.test(navigator?.userAgent),l=navigator.userAgent.indexOf("Firefox")<0,s=o=>new Promise((r,n)=>{try{const t=window.devicePixelRatio,e=document.getElementById(o);i.toBlob(e,{height:e.offsetHeight*t,width:e.offsetWidth*t,style:{transform:"scale("+t+")",transformOrigin:"top left",width:e.offsetWidth+"px",height:e.offsetHeight+"px"}}).then(a=>{r(a)})}catch(t){n(t)}}),d=o=>{navigator.clipboard.write([new ClipboardItem({"image/png":new Promise(async(r,n)=>{try{const t=await s(o);r(new Blob([t],{type:"image/png"}))}catch(t){n(t)}})})]).then(()=>{}).catch(r=>{console.error("Error:",r)})},g=o=>{l?navigator?.permissions?.query({name:"clipboard-write"}).then(async r=>{if(r.state==="granted"){const n="image/png",t=await s(o);let e=[new ClipboardItem({[n]:t})];navigator.clipboard.write(e).then(()=>{}).catch(a=>{console.error("Error:",a)})}}):alert("Firefox does not support this functionality")};export function downloadCard(o,r){var n=document.getElementById(o);i.toPng(n).then(function(t){var e=document.createElement("a");e.download=r,e.href=t,e.click()}).catch(function(t){console.error("oops, something went wrong!",t)})}export function copyCard(o){c?d(o):g(o)}
